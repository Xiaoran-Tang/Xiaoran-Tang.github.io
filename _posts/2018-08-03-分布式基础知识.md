---
layout:             post
title:                 分布式基础知识
subtitle:           distributed system
date:      	        2018-08-03
author:             Shaw
header-img:     img/post-bg-re-vs-ng2.jpg
catalog: 	         true
tags:
        - 运维
---
>本文参考自 [负载均衡算法及手段](https://segmentfault.com/a/1190000004492447)

冷备与热备
-
- 冷备份 (cool standby)，指配备平时不运行的备用设备，当运行设备发生故障时，使用备用设备替换。
- 热备份 (hot standby)，指在设备运行的同时运行备用设备，当运行设备发生故障时，能够自动替换备用设备。

fail-over 与 fail-back
- 
- fail-over，在空余结构中，停止运行设备，使用备用设备进行工作的过程称为替换，英文称为 fail-over 或者 switch-over。
- fail-back，替换后再次恢复到原来的运行设备，也就是从运行状态的备用设备再切换到原来的运行设备的过程，称为回退，英文称为 fail-back 或 switch-back。

冗余类型
-
- 1.主备方式 (Active-Standby)
准备两台路由器，其中一台作为正常运行业务的活跃设备 (active)，也可以称为主设备 (master) 或者首要设备 (primary)。另一台作为发生故障时替换的备用设备 (standby)，也可以称为备机 (backup)、从设备 (slave)、必要设备 (secondary)。活跃设备和备用设备必须共享关于设备的设置信息。
- 2.双活方式 (Active-Active)
准备两台路由器，其中一台作为首要设备 (primary)，另一台作为次要设备 (secondary)，二者同时运行来组成冗余结构。这种方式可以通过与负载均衡设备并用或者设置 DNS、客户端一侧的路由信息来达到负载均衡的目的。

- 3.集群方式 (Cluster)
在主备方式或双活方式中，使用3台以上的硬件协同组成冗余结构的方式。

L2与L3交换机
-
- L2基于数据链路层，L3基于网络层，具有IP分组与路由选择功能。
- L2可以通过使用 VLAN 分割广播域，但终端之间的数据帧交换必须位于同一 VLAN 范围内。 不同 VLAN 上的终端如有相互通信需求，则必须使用路由器。
- L3交换机与路由器均可以实现跨 VLAN 路由，但L3交换机多用于在以太网构筑的 Intranet 内部转发分组，而路由器则大多作为连接互联网与 Intranet 内网之间的网关来使用。

L4与L7交换机
-
- L4交换机
能够支持到 TCP 层级访问控制的交换机，称为L4交换机。
- L7交换机
能够基于 HTTP 和 HTTPS 这类应用层L7参数进行负载均衡等操作的产品，称为L7交换机。

负载均衡器
-
可以是专用设备，也可以是在通用服务器上运行的应用程序。 分散请求到拥有相同内容或提供相同服务的服务器。专用设备一般只有以太网接口，可以说是多层交换机的一种。负载均衡器一般会被分配虚拟 IP 地址，所有来自客户端的请求都是针对虚拟IP地址完成的。负载均衡器通过负载均衡算法将来自客户端的请求转发到服务器的实际 IP 地址上。